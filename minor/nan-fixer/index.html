<head>
  <title>NaN Fixer</title>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <script>
    fixNaN = function () {
    let l = (atob(document.getElementById('a').value).match(/NaN/g) || []).length;
    if (l === 0) {
      alert('Your save has no NaNs');
    }
    let j = JSON.parse(atob(document.getElementById('a').value));
    let nan1 = (Number.isNaN(j.autobuyers[11].priority) || j.autobuyers[11].priority === 'NaN') ? 1 : 0;
    if (nan1 < l) {
      alert('Your save has UNEXPECTED NANS THAT WILL ALMOST CERTAINLY NOT BE FIXED CORRECTLY, please post it as a bug');
      return;
    }
    document.getElementById('b').value =
    btoa(atob(document.getElementById('a').value).replace(/"NaN"|NaN/g, 0));
    document.getElementById('b').select(); document.execCommand('copy')}
  </script>
</head>
<body>
  Old save (put text here):
  <br/>
  <textarea id="a"></textarea>
  <br/>
  <br/>
  <br/>
  New save (copy text here if clicking "Fix save" doesn't automatically copy it):
  <br/>
  <textarea id="b"></textarea>
  <br/>
  <button onclick="fixNaN()">Fix save and copy fixed save</button>
</body>